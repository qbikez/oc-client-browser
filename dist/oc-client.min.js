/*! OpenComponents client v1.4.1 | (c) 2015-2021 OpenTable, Inc. | https://github.com/opencomponents/oc-client-browser/tree/master/LICENSES */
!function(e,c){var o=function(e,n){return e instanceof(n||Array)},a=document,n="getElementsByTagName",i="length",s="readyState",d="onreadystatechange",r=a[n]("script"),t=r[r[i]-1],l=t.innerHTML.replace(/^\s+|\s+$/g,"");if(!e.ljs){var u=t.src.match(/checkLoaded/)?1:0,f=a[n]("head")[0]||a.documentElement,p=function(e){var t={};return t.u=e.replace(/#(=)?([^#]*)?/g,function(e,n,r){return t[n?"f":"i"]=r,""}),t},m=function(e,n,r){var t,o=a.createElement(e);for(t in r&&(o[s]?o[d]=function(){"loaded"!==o[s]&&"complete"!==o[s]||(o[d]=null,r())}:o.onload=r),n)n[t]&&(o[t]=n[t]);f.appendChild(o)},h={},v={aliases:{},loadjs:function(e,r){var n,t,o,a=p(e);return e=a.u,!0===h[e]?r&&r():h[e]!==c?r&&(h[e]=(n=h[e],t=r,function(){n&&n(),t&&t()})):(h[e]=(o=r,function(){h[e]=!0,o&&o()}),r=function(){h[e]()},m("script",{type:"text/javascript",src:e,id:a.i,crossOrigin:"anonymous",onerror:function(e){if(a.f){var n=e.currentTarget;n.parentNode.removeChild(n),m("script",{type:"text/javascript",src:a.f,id:a.i},r)}}},r)),this},loadcss:function(e,n){var r=p(e);return e=r.u,h[e]||m("link",{type:"text/css",rel:"stylesheet",href:e,id:r.i}),h[e]=!0,n&&n(),this},load:function(){var e=arguments,n=e[i];return 1===n&&o(e[0],Function)?e[0]():function(e,n){if(this.aliases&&this.aliases[e]){var r=this.aliases[e].slice(0);return o(r)||(r=[r]),n&&r.push(n),this.load.apply(this,r)}if(o(e)){for(var t=e[i];t--;)this.load(e[t]);return n&&e.push(n),this.load.apply(this,e)}return e.match(/\.css\b/)?this.loadcss(e,n):this.loadjs(e,n)}.call(this,e[0],n<=1?c:function(){v.load.apply(v,[].slice.call(e,1))}),this},addAliases:function(e){for(var n in e)this.aliases[n]=o(e[n])?e[n].slice(0):e[n];return this}};if(u){var y,g,j,b;for(y=0,g=r[i];y<g;y++)(b=r[y].getAttribute("src"))&&(h[b.replace(/#.*$/,"")]=!0);for(y=0,g=(j=a[n]("link"))[i];y<g;y++)("stylesheet"===j[y].rel||"text/css"===j[y].type)&&(h[j[y].getAttribute("href").replace(/#.*$/,"")]=!0)}e.ljs=v}t.src&&l&&m("script",{innerHTML:l})}(window);var oc=oc||{};!function(r,t){"use strict";"function"==typeof define&&define.amd?define(["exports","jquery"],function(e,n){n.extend(e,r.oc),t(r.oc=e,n,r.ljs,r.document,r.window)}):"object"==typeof exports&&"string"!=typeof exports.nodeName?t(exports,require("jquery"),r.ljs,r.document,r.window):t(r.oc=oc,r.$,r.ljs,r.document,r.window)}(this,function(e,n,o,r,c){"use strict";if(oc.conf=oc.conf||{},oc.cmd=oc.cmd||[],oc.renderedComponents=oc.renderedComponents||{},oc.status=oc.status||!1,oc.status)return oc;oc.status="loading";var a=oc.conf.retryInterval||5e3,i=oc.conf.retryLimit||30,s=oc.conf.retrySendNumber||!0,d=oc.conf.pollingInterval||500,l=oc.conf.tag||"oc-component",u="Failed to load {0} component {1} times. Giving up".replace("{1}",i),f="Error rendering component: {0}, error: {1}",p="Failed to retrieve the component. Retrying in {0} seconds...".replace("{0}",a/1e3),m=oc.conf.loadingMessage||"",h="Component '{0}' correctly rendered",v=function(e,n){if(!n)throw e+" parameter is required"},t=oc.conf.debug||!1,y=function(){},g=!!c.navigator.userAgent.match(/MSIE 9/),j=!1,b=!1,x={},$=function(e){return"boolean"==typeof e},q=function(e){return console.log(e)},C=function(e){return!!t&&console.log(e)},w={"oc-template-handlebars":{externals:[{global:"Handlebars",url:"https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.runtime.min.js"}]},"oc-template-jade":{externals:[{global:"jade",url:"https://cdnjs.cloudflare.com/ajax/libs/jade/1.11.0/runtime.min.js"}]}};function T(e,n){(e=Array.isArray(e)?e:[e]).forEach(function(e){!n&&w[e.type]||(w[e.type]={externals:e.externals})})}oc.conf.templates&&T(oc.conf.templates,!0);oc.addStylesToHead=function(e){oc.$("<style>"+e+"</style>").appendTo(document.head)},oc.registerTemplates=function(e){return T(e),oc.ready(oc.renderUnloadedComponents),w},oc.require=function(r,e,n){"function"==typeof e&&(n=e,e=r,r=void 0),"string"==typeof r&&(r=[r]);var t=function(){var e=c;if(void 0!==r){for(var n=0;n<r.length;n++)if(!(e=e[r[n]]))return;return e}};!function(){var e=c;if(void 0===r)return!0;for(var n=0;n<r.length;n++)if(!(e=e[r[n]]))return!0;return!1}()?n(t()):o.load(e,function(){n(t())})};var U=function(t,o,a){if("function"==typeof o&&(a=o,o=[]),0===t.length)return a();var c=t[0];oc.require(c.global,c.url,function(){var e=c,n=o.concat(e),r=t.slice(1);U(r,n,a)})};oc.requireSeries=U;oc.getData=function(e,r){r=r||y,v("version",e.version),v("baseUrl",e.baseUrl),v("name",e.name),oc.$.ajax({method:"POST",url:e.baseUrl,data:{components:[{name:e.name,version:e.version,parameters:oc.$.extend({},oc.conf.globalParameters,e.parameters)}]},headers:{Accept:"application/vnd.oc.unrendered+json"},crossDomain:!0,success:function(e){if("rendered"===e[0].response.renderMode)return r("Error getting data");var n=e[0].response.error?e[0].response.details||e[0].response.error:null;return r(n,e[0].response.data,e[0])},error:function(e){return r(e)}})},oc.build=function(e){v("baseUrl",e.baseUrl),v("name",e.name);var n=function(e){return"/"!==(e=e||"").slice(-1)&&(e+="/"),e},r=n(e.baseUrl)+n(e.name);if(e.version&&(r+=n(e.version)),e.parameters){for(var t in r+="?",e.parameters)if(e.parameters.hasOwnProperty(t)){var o=e.parameters[t];/[+&=]/.test(o)&&(o=encodeURIComponent(o)),r+=t+"="+o+"&"}r=r.slice(0,-1)}return"<"+l+' href="'+r+'"></'+l+">"},oc.events={},oc.ready=function(o){if(j)return o();if(b)oc.cmd.push(o);else{b=!0;var t=!!c.jQuery,a=!!c.$;oc.require("jQuery","https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js",function(e){var n,r;n=e,r=function(){oc.$=t||a?e:e.noConflict(),function(){var t;b=!(j=!0),oc.events=(t=oc.$({}),{fire:function(e,n){return t.trigger(e,n)},on:function(e,n){return t.on(e,n||y)},off:function(e,n,r){return t.off(e,n,r)},reset:function(){return t.off()}}),o(),oc.events.fire("oc:ready",oc),oc.status="ready";for(var e=0;e<oc.cmd.length;e++)oc.cmd[e](oc);oc.cmd={push:function(e){e(oc)}}}()},g&&!n.IE_POLYFILL_LOADED?oc.require("https://cdnjs.cloudflare.com/ajax/libs/jquery-ajaxtransport-xdomainrequest/1.0.3/jquery.xdomainrequest.min.js",r):r()})}},oc.render=function(t,o,a){oc.ready(function(){if(o&&!0===o.__oc_emptyResponse)return a(null,"");var r=t.type;"jade"===r&&(r="oc-template-jade"),"handlebars"===r&&(r="oc-template-handlebars");var e=w[r];e?oc.require(["oc","components",t.key],t.src,function(n){n?U(e.externals,function(){if("oc-template-handlebars"===r)try{var e=c.Handlebars.template(n,[]);a(null,e(o))}catch(e){a(e.toString())}else a(null,n(o))}):a("Error getting compiled view: {0}".replace("{0}",t.src))}):a('Error loading component: view engine "{0}" not supported'.replace("{0}",t.type))})},oc.renderNestedComponent=function(a,c){oc.ready(function(){var e=a.attr("data-rendering"),n=a.attr("data-rendered"),r=$(e)?e:"true"===e,t=$(n)?n:"true"===n;r||t?setTimeout(c,d):(C("Unrendered component found. Trying to retrieve it..."),a.attr("data-rendering",!0),a.html('<div class="oc-loading">'+m+"</div>"),oc.renderByHref(a.attr("href"),function(e,n){if(e||!n)return a.html(""),q(e),c();var r,t,o;r=a,o=c,(t=n).id=Math.floor(9999999999*Math.random()),r.html(t.html),r.attr("id",t.id),r.attr("data-rendered",!0),r.attr("data-rendering",!1),r.attr("data-version",t.version),t.key&&r.attr("data-hash",t.key),t.name&&(r.attr("data-name",t.name),oc.renderedComponents[t.name]=t.version,oc.events.fire("oc:rendered",t)),o()}))})},oc.renderByHref=function(r,e,n){var t=n,o=e;"function"==typeof e&&(t=e,o=0),oc.ready(function(){if(""===r)return t(f.replace("{1}","Href parameter missing"));var e=s?{__oc_Retry:o}:{},n=function(e,n){if(e&&n){var r=oc.$.param(n);return-1<e.indexOf("?")?e+"&"+r:e+"?"+r}return e}(r,oc.$.extend({},oc.conf.globalParameters,e));oc.$.ajax({url:n,headers:{Accept:"application/vnd.oc.unrendered+json"},contentType:"text/plain",crossDomain:!0,success:function(r){if("unrendered"===r.renderMode)oc.render(r.template,r.data,function(e,n){if(e)return t(f.replace("{0}",r.href).replace("{1}",e));C(h.replace("{0}",r.template.src)),t(null,{html:n,key:r.template.key,version:r.version,name:r.name})});else if("rendered"===r.renderMode){if(C(h.replace("{0}",r.href)),0===r.html.indexOf("<"+l)){var e=r.html.slice(r.html.indexOf(">")+1),n=e.slice(0,e.lastIndexOf("<"));r.html=n}t(null,{html:r.html,version:r.version,name:r.name})}},error:function(){q(p),function(e,n,r){if(void 0===x[e]&&(x[e]=i),x[e]<=0)return r();setTimeout(function(){n(i-x[e]+1)},a),x[e]--}(r,function(e){oc.renderByHref(r,e,t)},function(){t(u.replace("{0}",r))})}})})},oc.renderUnloadedComponents=function(){oc.ready(function(){var e=oc.$(l+"[data-rendered!=true]"),n=e.length,r=function(){--n||oc.renderUnloadedComponents()};if(0<n)for(var t=0;t<e.length;t++)oc.renderNestedComponent(oc.$(e[t]),r)})},oc.load=function(n,r,t){oc.ready(function(){if("function"!=typeof t&&(t=y),oc.$(n)){oc.$(n).html("<"+l+' href="'+r+'" />');var e=oc.$(l,n);oc.renderNestedComponent(e,function(){t(e)})}})},oc.ready(oc.renderUnloadedComponents)}),oc.clientVersion="1.4.1";
//# sourceMappingURL=oc-client.min.map